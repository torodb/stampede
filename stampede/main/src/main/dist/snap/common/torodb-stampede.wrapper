#!/bin/bash

. "$(dirname "$0")/environment.wrapper"

TORO_OPTIONS=("$@")
for todelete_parameter in --toropass-file --mongopass-file
do
    for index in "${!TORO_OPTIONS[@]}"
    do
        if [ "${TORO_OPTIONS[$index]}" == "$todelete_parameter" ]
        then
            unset TORO_OPTIONS[$index]
            unset TORO_OPTIONS[$((index+1))]
        fi
    done
done

exec "$SNAP/bin/@{assembler.name}" --toropass-file "$TOROPASSFILE" --mongopass-file "$MONGOPASSFILE" "${TORO_OPTIONS[@]}"